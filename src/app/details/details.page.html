
<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>{{movie()?.title}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
@if(movie(); as movie){
<ion-card>
  <div [style.height.px]="300" 
  [style.background-image]="'url(' + imageBaseUrl + '/w400'  + movie?.poster_path + ')'"> </div>
<ion-card-header>
  <ion-card-title> {{movie?.title}}</ion-card-title>
<ion-card-subtitle>{{movie.tagline}}</ion-card-subtitle>
<ion-text color="tertiary">
  @for (g of movie.genres; track g.id ; let isLast= $last;) {
    <span>{{g.name}} {{!isLast ? '.' : ''}}</span>
  }
</ion-text>
</ion-card-header>
<ion-card-content >
  <ion-label color="medium"> {{movie.overview}}</ion-label>
  @if (movie.homepage !== "") {
<ion-item lines="none"><ion-icon  name="earth-Outline"></ion-icon><ion-button href={{movie.homepage}} fill="clear" color="dark" size="default">Homepage</ion-button></ion-item>}
@if (movie.budget !== 0) {  
<ion-item lines="none">
    <ion-icon name="cash-outline" slot="start"></ion-icon>
<ion-label>{{movie.budget | currency: 'USD'}}</ion-label>
  </ion-item>}
  @else {
    <ion-item lines="none"><ion-icon name="alert-circle-outline" slot="start" color="danger"></ion-icon><ion-label color="danger">No Budget</ion-label></ion-item>
  }
  <ion-item lines="none">
    <ion-icon name="calendar-outline" slot="start"></ion-icon>
<ion-label>{{movie.release_date | date: 'y'}}</ion-label>
  </ion-item>
  <ion-item lines="none">
    <ion-icon name="people-circle-outline" slot="start"></ion-icon>
<ion-label>{{movie.popularity}}</ion-label>
  </ion-item>
</ion-card-content>
</ion-card>
}
</ion-content>