import{a as K}from"./chunk-UU74QXXS.js";import{$ as L,A as T,B as E,C as R,D as k,J as H,M as O,Q as F,S as A,T as B,a as I,aa as w,b as C,ba as z,ca as D,d as y,da as U,e as P,ea as $,f as S,fa as j,ga as N,h as l,ha as Y,i as d,ia as q,k as h,ka as G,l as _,la as J,m as b,n as u,o as x,p as o,q as i,r as s,s as v,t as p,v as m,w as g,z as M}from"./chunk-AQ67V4GS.js";import"./chunk-G663NYV5.js";import"./chunk-SD74KB4V.js";import"./chunk-N7QDCWFZ.js";import"./chunk-DAXNADTT.js";import"./chunk-GN3RRECP.js";import"./chunk-A73CKFRS.js";import"./chunk-4U6PRYVA.js";import"./chunk-GRUCANJJ.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-FQ65QLOX.js";var V=(e,t)=>t.id;function W(e,t){e&1&&(o(0,"ion-item",5)(1,"ion-avatar",6),s(2,"ion-skeleton-text"),i(),s(3,"ion-skeleton-text",7),i())}function X(e,t){if(e&1&&(o(0,"ion-list"),u(1,W,4,0,"ion-item",8,b),i()),e&2){let r=p();l(1),x(r.dummyArray)}}function Z(e,t){if(e&1&&s(0,"ion-alert",9),e&2){let r=p();d("message",r.error)}}var ee=e=>["/details",e];function te(e,t){if(e&1&&(o(0,"ion-item",10)(1,"ion-avatar",6),s(2,"img",11),i(),o(3,"ion-label",12)(4,"h3"),m(5),i(),o(6,"p"),m(7),E(8,"date"),i()(),o(9,"ion-badge",13),m(10),i()()),e&2){let r=t.$implicit,n=p();d("routerLink",T(8,ee,r.id)),l(2),d("src",n.imageBaseUrl+"/w92"+r.poster_path,S),l(3),g(r.title),l(2),g(R(8,5,r.release_date,"y")),l(3),g(r.vote_average)}}function ne(e,t){e&1&&(o(0,"ion-item",14)(1,"ion-label",15),m(2,"No movies Found"),i()())}function ie(e,t){if(e&1&&h(0,ne,3,0,"ion-item",14),e&2){let r=p();_(0,r.isloading?-1:0)}}var fe=(()=>{let t=class t{constructor(){this.movieService=y(K),this.currentPage=1,this.error=null,this.isloading=!1,this.movies=[],this.search=[],this.imageBaseUrl="https://image.tmdb.org/t/p",this.dummyArray=new Array(15),this.loadMovies()}doRefresh(n){console.log("Begin async operation"),this.isloading=!0,setTimeout(()=>{console.log("Async operation has ended"),this.loadMovies(),this.isloading=!1,n.target.complete()},1e3)}searchMovie(n){console.log("hi")}loadMovies(n){this.error=null,n||(this.isloading=!0),this.movieService.getTopRatedmovie(this.currentPage).pipe(C(()=>{this.isloading=!1,n&&n.target.complete()}),I(a=>(console.log(a),this.error=a.error.status_message,[]))).subscribe({next:a=>{console.log(a),this.movies.push(...a.results),n&&(n.target.disabled=a.total_pages===this.currentPage)}})}loadMore(n){this.currentPage++,this.loadMovies(n)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=P({type:t,selectors:[["app-home"]],standalone:!0,features:[M],decls:15,vars:3,consts:[[3,"translucent"],["color","primary"],["slot","fixed",3,"ionRefresh"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more Data ...."],["lines","none",1,"ion-padding-bottom"],["slot","start"],["animated","",2,"height","40px"],["lines","none","class","ion-padding-bottom"],["header","Error","isOpen","true","buttons","Ok",3,"message"],["button","",3,"routerLink"],["alt","poster",3,"src"],[1,"ion-text-wrap"],["slot","end"],["lines","none"],[1,"ion-text-center"]],template:function(a,c){a&1&&(o(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),m(3," Trending "),i()()(),o(4,"ion-content")(5,"ion-refresher",2),v("ionRefresh",function(f){return c.doRefresh(f)}),s(6,"ion-refresher-content"),i(),h(7,X,3,0,"ion-list")(8,Z,1,1),o(9,"ion-list"),u(10,te,11,10,"ion-item",10,V,!1,ie,1,1),i(),o(13,"ion-infinite-scroll",3),v("ionInfinite",function(f){return c.loadMore(f)}),s(14,"ion-infinite-scroll-content",4),i()()),a&2&&(d("translucent",!0),l(7),_(7,c.isloading?7:c.error?8:-1),l(3),x(c.movies))},dependencies:[w,J,G,L,j,U,A,N,Y,q,F,$,B,k,O,H,z,D],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]});let e=t;return e})();export{fe as HomePage};
